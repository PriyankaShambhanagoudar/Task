<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Task</title>
  </head>
  <body>
    <script>
      console.log("23. Task ");

      /*  There was an apple picking contest held among elementary schoolers. Return the winner according to how many apples each picked against the time it took them (divide those two).

                   The list of all participants consists of objects with their name,  time they were picking apples , apples picked  and , unfortunately, apples smashed(the kids were in hurry). They can also more apples smashed than they have picked.

                   GetCompetitionWinner([
                     { name: 'Susie’, time: '1 hours’, picked: 30, smashed: 3},
                     { name: 'Tariq’, time: '1 hours’, picked: 28, smashed: 4},
                     { name: 'Poppy’, time: ‘0.5 (30 min)  hours’, picked: 30, smashed: 34},
                   ]) //=== ’Susie’;

                   GetCompetitionWinner([
                     { name: ‘Katti’, time: ‘2 hours’, picked: 33, smashed: 1},
                     { name: ‘Omar’, time: ‘1 hours’, picked: 29, smashed: 0},
                     { name: ‘Judy’, time: ‘2 hours’, picked: 18, smashed: 20},
                   ]) //=== ’Omar’;

                   GetCompetitionWinner([
                     { name: ‘Ivan’, time: ‘1 hours’, picked: 13, smashed: 10},
                     { name: ‘Marika’, time: ‘0.5 hours (30 min)  ’, picked: 17, smashed: 13},
                     { name: ‘Hans’, time: ‘2 hours’, picked: 25, smashed: 4},
                   ]) //=== ’Hans’;

                   */

      function GetCompetitionWinner(data) {
        data.forEach((obj) => {
          //adding new value in object
          obj["result"] = topper(obj);
        });
        const sortingNumber = data.sort((a, b) => b.result - a.result);
        return sortingNumber[0].name;
      }
      function topper(students) {
        let picked = students.picked;
        let smashed = students.smashed;
        let hour = +students.time.replace(/[^0-9\.]+/g, "");
        return (picked - smashed) / hour;
      }
      console.log(
        GetCompetitionWinner([
          { name: "Susie", time: "1 hours", picked: 30, smashed: 3 }, //27
          { name: "Tariq", time: "1 hours", picked: 28, smashed: 4 }, //24
          { name: "Poppy", time: "0.5 hours", picked: 30, smashed: 34 }, //0.1
        ])
      );
      ///////////////////////////////////////////////////////

      function GetCompetitionWinner1(data) {
        let topPlayers = data.reduce((topPlayer, player) => {
          return toppers(data) > toppers(topPlayer) ? player : topPlayer;
        });
        return topPlayers.name;
      }
      function toppers(students) {
        let pick = students.picked;
        let smash = students.smashed;
        let hours = parseInt(students.time);
        return (pick - smash) / hours;
      }
      console.log(
        GetCompetitionWinner1([
          { name: "Susie", time: "1 hours", picked: 30, smashed: 3 }, //27
          { name: "Tariq", time: "1 hours", picked: 28, smashed: 4 }, //24
          { name: "Poppy", time: "0.5 hours", picked: 30, smashed: 34 }, //0.1
        ])
      );
      ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
      console.log("22. Task ");

      /*
           productOfAllOtherNumbers([1,2,3,4])  //[24, 12, 8, 6]
           productOfAllOtherNumbers([5,8,7,10])  //[560, 350, 400, 200]
           productOfAllOtherNumbers([0,1,2,4]) // [8, 0, 0, 0]
      */

      function productOfAllOtherNumbers(data) {
        let res = [];
        for (let i = 0; i < data.length; i++) {
          let prod = 1;
          for (let j = 0; j < data.length; j++) {
            if (i !== j) {
              prod *= data[j];
            }
          }
          res.push(prod);
        }
        return res;
      }
      console.log("1st   Approach", productOfAllOtherNumbers([1, 2, 3, 4]));
      console.log(productOfAllOtherNumbers([5, 8, 7, 10]));
      console.log(productOfAllOtherNumbers([0, 1, 2, 4]));

      ///////////////////////////////////////////////////////

      function productOfAllOtherNumbers1(data) {
        let arr = [];
        for (let i = 0; i < data.length; i++) {
          let ar = filterArray(data, i).reduce((acc, mov) => (acc *= mov), 1);
          arr.push(ar);
        }
        return arr;
      }
      ////helper function

      function filterArray(ar, index) {
        return ar.filter((mov) => mov !== ar[index]);
      }
      console.log("2nd  Approach", productOfAllOtherNumbers1([1, 2, 3, 4]));
      console.log(productOfAllOtherNumbers1([5, 8, 7, 10]));
      console.log(productOfAllOtherNumbers1([0, 1, 2, 4]));

      ////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
      console.log("21. Task ");
      


      
    </script>
  </body>
</html>
