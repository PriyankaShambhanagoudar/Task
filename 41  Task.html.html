<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 41</title>
  </head>
  <body>
    <script>
      function cakes(recipe, available) {
        if (dataComp(recipe, available)) {
          // recipe
          const res = Object.keys(recipe)
            .reduce((a, m) => {
              const values = recipe[m];
              const values2 = available[m];
              const x = values2 / values;
              const round = Math.trunc(x);
              a.push(round);
              return a;
            }, [])
            .sort((a, b) => a - b);
          return res[0];
        } else {
          console.log(0);
        }
      }
      //helper function
      function dataComp(recipe, available) {
        const data = Object.keys(recipe);
        return data.reduce((a, m) => {
          if (a && available[m]) {
            return true;
          } else {
            return false;
          }
        }, Infinity);
      }
      console.log(
        cakes(
          { flour: 500, sugar: 200, eggs: 1 },
          { flour: 1200, sugar: 1200, eggs: 5, milk: 200 }
        )
      );
      console.log(
        cakes(
          { apples: 3, flour: 300, sugar: 150, milk: 100, oil: 100 },
          { sugar: 500, flour: 2000, milk: 2000 }
        )
      );
    </script>
  </body>
</html>
